[gd_scene load_steps=4 format=3 uid="uid://bve8geqbsctwi"]

[ext_resource type="Script" uid="uid://blh18y4y85inu" path="res://src/systems/Spawner/spawner.gd" id="1_r7jan"]
[ext_resource type="PackedScene" uid="uid://b0wdoh63scv42" path="res://scenes/actors/enemies/EnemyBasic.tscn" id="2_wvens"]
[ext_resource type="PackedScene" uid="uid://bsfqc3jce0ste" path="res://scenes/actors/enemies/Goblin/goblin.tscn" id="3_p06m7"]

[node name="Spawner" type="Node2D"]
script = ExtResource("1_r7jan")
spawn_area = Rect2(0, 0, 1920, 1080)
min_distance = 300.0
max_concurrent = 100
enemy_scenes = Array[PackedScene]([ExtResource("2_wvens"), ExtResource("3_p06m7")])
phases = Array[Dictionary]([{
"enemy_pool": [{
"path": "res://scenes/actors/enemies/EnemyBasic.tscn",
"weight": 1.0
}],
"hp_mult": 1.0,
"max_concurrent": 35,
"spawn_rate": 0.7,
"speed_mult": 1.0,
"time": 0.0
}, {
"enemy_pool": [{
"path": "res://scenes/actors/enemies/EnemyBasic.tscn",
"weight": 0.6
}, {
"path": "res://scenes/actors/enemies/Goblin/goblin.tscn",
"weight": 0.4
}],
"hp_mult": 1.2,
"max_concurrent": 50,
"spawn_rate": 0.5,
"speed_mult": 1.05,
"time": 45.0
}])
waves = Array[Dictionary]([{
"count": 1,
"enemy_scene_idx": 0,
"spawn_rate": 0.6
}, {
"count": 1,
"enemy_scene_idx": 1,
"spawn_rate": 0.6
}, {
"count": 2,
"enemy_scene_idx": 0,
"spawn_rate": 0.5
}, {
&"count": 10,
&"enemy_scene_idxs": [0, 1],
&"spawn_rate": 0.5
}, {
"count": 6,
"enemy_pool": [{
"idx": 0,
"weight": 0.5
}, {
"idx": 1,
"weight": 0.5
}],
"spawn_rate": 0.2
}])
